<html>
<head>
   <title>Our Book Collection</title>
	<link rel='stylesheet' href='books.css' type='text/css'></link>	
	<link rel="exhibit/data" type="application/jsonp" 	href="http://spreadsheets.google.com/feeds/list/o02715122730018153756.8827825092244578369/od6/public/basic?alt=json-in-script"
			ex:converter="googleSpreadsheets" />
	<link href="books.js" type="application/json" rel="exhibit/data"></link>

	<script src="http://simile-widgets.googlecode.com/svn/exhibit/trunk/src/webapp/api/exhibit-api.js" type='text/javascript'></script>
	
	<script src="http://simile-widgets.googlecode.com/svn/exhibit/trunk/src/webapp/extensions/curate/curate-extension.js" type='text/javascript'></script>
</head>

<body>

<table class="columnTable">
   <tr>
      <td class="column">
         <div class="pageSidebar">
               <div ex:role="facet" 
                  ex:expression=".owner" 
                  ex:facetLabel="owner" 
                  ex:height="5em">
               </div>
               <div ex:role="facet" 
                  ex:expression=".availability" 
                  ex:facetLabel="is availabile" 
                  ex:height="5em">
               </div>
               <div ex:role="facet" 
                  ex:expression=".year" 
                  ex:facetClass="NumericRange"
                  ex:facetLabel="year written"
                  ex:height="5em"
                  >
               </div>

               <div class="addItemBox">
                  <a ex:role="itemCreator" ex:itemType="book">Add New Book</a>
               </div>      
         </div>
      </td>
      <td class="column">
         <div ex:role="view" class="bookContainer">
         </div>
      </td>
      <td class="column">
         <div ex:role="view" ex:viewClass="Edit" class="changeList" ex:exhibitName="Books" ex:submitTo="http://scripts.mit.edu/~sostler/gdocbackend.py" >
            <span class="editView-header">changes</span>
            <div class="editView-changeList">
                <div class="changeList-placeholder">
                    To begin editing this Exhibit, click on the edit link.
                </div>
                <div class="changeList-item">                           
                    <div class="item-label"></div>
                    <div class="item-edit">                  
                        <span class="edit-property"></span>
                        changed to 
                        <span class="edit-newValue"></span>
                    </div>
                </div>
            </div>
            
            <span class="infoBox-header">submission info</span>
            <table class="editView-infoBox">
               <tr>
                  <td><label>email:</label></td>
                  <td><input submissionInfo="email"></input></td>
               </tr>
               <tr>
                  <td><label>comment:</label></td>
                  <td><input submissionInfo="comment"></input></td>
               </tr>
            </table>
            <div class="editView-buttonContainer">
               <input type="button" class="editView-submitButton" value="Submit Changes" />
            </div>
         </div>
      </td>  
   </tr>
</table>

<div ex:role="lens" ex:itemTypes="book" class="book" style="display: none">
	<span class="bookTitle" ex:content=".label"></span>
	<p><div>
		<span>Written by</span>
		<span ex:content=".author"></span>
		<span>in</span>
		<span ex:content=".year"></span>
	</div>
	<div>
	   <span>Belongs to</span>
      <span ex:content=".owner" style="text-decoration: underline;"></span>
      <span>and is currently</span>
      <span ex:availability-content=".availability">
         <span ex:content=".availability" style="text-decoration: underline;"></span>
      </span>
	</div></p>
	<p><div ex:content=".description"></div></p>
	<a class="editLink" ex:control="start-editing">edit</a>
</div>

<div ex:role="lens" ex:itemTypes="book-editor" class="book" style="display: none">
	<span class="bookTitle">
		<span>Editing</span>
		<span ex:content=".label"></span> 
	</span>
	<table class="editTable">
		<tr>
			<td class="label">label</td>
			<td><input ex:editableContent="label"></input></td>
		</tr>
		<tr>
			<td class="label">author</td>
			<td><input ex:editableContent="author"></input></td>
		</tr>
		<tr>
			<td class="label">year</td>
			<td><input ex:editableContent="year"></input></td>
		</tr>
		<tr>
			<td class="label">owner</td>
			<td><input ex:editableContent="owner"></input></td>
		</tr>
		<tr>
			<td class="label">availability</td>
			<td>
			   <select ex:editableContent="availability">
			      <option>available</option>
			      <option>unavailable</option>
			   </select>
			</td>
		</tr>
		<tr>
			<td class="label">description</td>
			<td><textarea ex:editableContent="description"></textarea></td>
		</tr>
		<a ex:control="stop-editing" class="editLink" >stop</a>
	</table>
</div>

</body>
</html>